<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <title>Webdev Playground</title>

    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <!-- Create a simple CodeMirror instance -->

    <!-- Firebase -->
    <script src="https://www.gstatic.com/firebasejs/3.3.0/firebase.js"></script>

    <!-- CodeMirror -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.17.0/codemirror.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.17.0/codemirror.css"/>

    <!-- Firepad -->
    <link rel="stylesheet" href="https://cdn.firebase.com/libs/firepad/1.4.0/firepad.css"/>


    <style>
        html {
            height: 100%;
        }

        body {
            margin: 0;
            height: 100%;
            position: relative;
        }

        /* Height / width / positioning can be customized for your use case.
           For demo purposes, we make firepad fill the entire browser. */
        #myCode {
            position: relative;
            margin: 20px auto;
            width: 100%;
            height: 1000px;
            overflow:auto;
        }
    </style>


    <script src="https://cdn.firebase.com/libs/firepad/1.4.0/firepad.min.js"></script>
    <script>
        window.onload = function () {

            // TODO: replace with your Firebase project configuration.

            var config = {
                apiKey: "AIzaSyAYz-syxAzb9v4t1jdpDCowwThCLhEqEf8",
                authDomain: "playground-9b472.firebaseapp.com",
                databaseURL: "https://playground-9b472.firebaseio.com",
                storageBucket: "playground-9b472.appspot.com",
                messagingSenderId: "406699422715"
            };
            firebase.initializeApp(config);

            var myTextarea = document.getElementById("myCode");
            var editor = CodeMirror(myTextarea, {
                lineNumbers: true
            });

            // Get Firebase Database reference.
            var firepadRef = firebase.database().ref();

            var firepad = Firepad.fromCodeMirror(firepadRef, editor, {
                defaultText: 'Hello, World!'
            });
            // Helper to get hash from end of URL or generate a random one.
            function getExampleRef() {
                var ref = firebase.database().ref();
                var hash = window.location.hash.replace(/#/g, '');
                if (hash) {
                    ref = ref.child(hash);
                } else {
                    ref = ref.push(); // generate unique location.
                    window.location = window.location + '#' + ref.key; // add it as a hash to the URL.
                }
                if (typeof console !== 'undefined') {
                    console.log('Firebase data: ', ref.toString());
                }
                return ref;
            }

            console.log(getExampleRef());

        };


    </script>
    <script
            src="https://code.jquery.com/jquery-1.12.4.min.js"
            integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ="
            crossorigin="anonymous"></script><script>
        function thirty_pc() {
            var height = $(window).height();
            thirtypc = parseInt(height*90) + 'px';
            $("div").css('height',thirtypc);
        }

        $(document).ready(function() {
            thirty_pc();
            $(window).bind('myCode', thirty_pc);
        });
    </script>
</head>
<body>
<div class="container-fluid">
    <div class="row">
        <div class="col-xs-6">
            LOL
        </div>
        <div class="col-xs-6">
            <div id="myCode"></div>
        </div>
    </div>

</div>
</body>
</html>